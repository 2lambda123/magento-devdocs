---
group: extension-best-practices
title: PHP Storm Plugin
functional_areas:
  - Standards
---

The PHPStorm Plugin enabled features and functionality to assist developers in creating custom extensions.
This document describes features and fixes in version 4.0.

## Code generation

### XML file header

The new include code template was added to the generated with the plugin XML files.
To configure it go to the `Preferences -> Editor -> File and Code Templates -> Includes -> XML File Header`:

![]({{ site.baseurl }}/common/images/phpstorm/xml-file-header.png)

#### Usage

Any generated XML file will have this header, as for example:

![]({{ site.baseurl }}/common/images/phpstorm/xml-file-header-in-file.png)

### Web API declaration generation

![]({{ site.baseurl }}/common/images/phpstorm/web-api-declaration-2-min.gif)

### Web API interface for service (PHP class) generation

![]({{ site.baseurl }}/common/images/phpstorm/declare-web-api-interface-min.gif)

### Web API generation for the Magento Entity Creator

From now on, the Entity Creator feature also includes the Web API generation.

![]({{ site.baseurl }}/common/images/phpstorm/entity-creator-web-api-generation-min.gif)

There is an example of the output for generated entity when accessing get list REST API endpoint from the Postman application and from the admin panel in browser:

![]({{ site.baseurl }}/common/images/phpstorm/get-list-rest-api-call.png)

![]({{ site.baseurl }}/common/images/phpstorm/get-list-in-browser.png)

## Code inspection

### Web API XML service tag attributes inspections

![]({{ site.baseurl }}/common/images/phpstorm/service-tag-inspections-min.gif)

### DI XML preference tag attributes inspections

![]({{ site.baseurl }}/common/images/phpstorm/preference-tag-inspections-min.gif)

### DI XML type tag attributes inspections that related to the PHP/Magento types

The `Type` tag inspections (in the di.xml files) detect empty values or invalid values where a Type values (class, interface, virtual type) are expected.

![]({{ site.baseurl }}/common/images/phpstorm/type-tag-inspections-1-min.gif)

It also supports recursive inspection for `xsi:type="array"` arguments.

![]({{ site.baseurl }}/common/images/phpstorm/type-tag-inspections-2-min.gif)

### DI XML plugin type attribute inspections

![]({{ site.baseurl }}/common/images/phpstorm/plugin-tag-inspections-min.gif)

## Extra

### Issue reporting

Implemented extension point for errorHandler to integrate plugin with the IDE's dialog to report fatal errors.

#### Usage

*  When an issue occurred click on the `See details and submit report` link for reporting an issue.

*  Fill the issue description and click on the `Report Me` button:

![]({{ site.baseurl }}/common/images/phpstorm/report-me.png)

*  Change the auto generated issue title to the proper one:

![]({{ site.baseurl }}/common/images/phpstorm/issue-title.png)

*  Fill the rest with available information about an issue (such as steps to reproduce, expected behaviour etc.) and click on the `Submit new issue` button:

![]({{ site.baseurl }}/common/images/phpstorm/issue-description.png)

### JS and CSS support for Copy Magento Path action

Ability to copy Magento Path for JS files.

![]({{ site.baseurl }}/common/images/phpstorm/copy-js-path.png)

Ability to copy Magento Path for CSS files.

![]({{ site.baseurl }}/common/images/phpstorm/copy-css-path.png)

### Changed the content of the generated plugin class

![]({{ site.baseurl }}/common/images/phpstorm/changed-plugin-generation-min.gif)

### Changed using of hardcoded entity id value into the constant in all files generated by the Entity Creator

![]({{ site.baseurl }}/common/images/phpstorm/entity-id-used-as-constant.png)

### Bugfixes

*  A casting exception in the XML index.
*  Incorrect plugin generation for complex non-primitive types.
*  Incorrect namespace generation in a generated controller.
*  Incorrect directory validation for the generation dialogues.
*  Wrong entity data mapper file template position.
*  Incorrect data saving into table model within editing a table.
*  An error when plugin or observer name is not set.
*  Incorrect duplication warning for disabled plugin in di.xml.
